= MCP Integration (Natural Language → Cypher)

Use the official Neo4j MCP servers to query your code graph with natural language from IDEs like Cursor or Claude Desktop.

== Reference

- Project: `mcp-neo4j` — Neo4j MCP Clients & Servers
  - `mcp-neo4j-cypher`: natural language to Cypher over your database
  - Transport: stdio (default), HTTP, or SSE
- Repository: `https://github.com/neo4j-contrib/mcp-neo4j`

== Cursor configuration

Add an entry to `~/.cursor/mcp.json` (adjust names and environment for your DB):

[source,json]
----
{
  "mcpServers": {
    "neo4j-codegraph": {
      "command": "uvx",
      "args": ["mcp-neo4j-cypher@0.4.0", "--transport", "stdio"],
      "env": {
        "NEO4J_URI": "neo4j://10.0.1.27",
        "NEO4J_USERNAME": "readonly",
        "NEO4J_PASSWORD": "password",
        "NEO4J_DATABASE": "neo4j",
        "NEO4J_NAMESPACE": "neo4j"
      }
    }
  }
}
----

Tips:

- Use a read-only Neo4j role for safety during exploration.
- Point `NEO4J_NAMESPACE` to the graph namespace you want the MCP to use (optional; used by some clients for scoping).
- For HTTP transport instead of stdio: run `mcp-neo4j-cypher --transport http [--host 127.0.0.1 --port 8080 --path /api/mcp/]` and configure the client accordingly.

== Example prompts

- "Which methods call processData?"
- "Top 20 methods by PageRank and their files."
- "Show files importing package X."
- "List classes that implement interface Y."

These map to Cypher over your existing schema (`File`, `Class`, `Method`, `CALLS`, `IMPORTS`, `IMPLEMENTS`, etc.).

== Environment

Activate the conda environment before launching clients or scripts:

[source,bash]
----
conda activate neo4j-code-graph
----

Then start your IDE and the MCP server if not launched automatically by the client.
